\documentclass{article}


\usepackage[a4paper,margin=2cm,bottom=2cm,top=2cm,landscape,twocolumn]{geometry}
\usepackage[english]{babel}
\usepackage{lmodern}
\usepackage[T1]{fontenc}       
\usepackage[utf8]{inputenc}    

% diagonal  seperator in table
\usepackage{diagbox}

% font for more readable code
\usepackage{dejavu}

\usepackage{xparse}

% math packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage{tabu}

% spacing for section headings
\usepackage{titlesec} 
\titlespacing*{\section}{0pt}{0pt}{0pt}
\titlespacing*{\subsection}{0pt}{0pt}{0pt}
\titlespacing*{\subsubsection}{0pt}{0pt}{0pt}


% images
\usepackage{graphicx}

% spacing for itemize/enumerate
\usepackage{enumitem}
\setlist{nosep}


% more spacing related settings
\setlength\parindent{0pt}
\setlength\parskip{\baselineskip}

\setcounter{secnumdepth}{0}

% code listings
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage[skins, breakable]{tcolorbox}
\usepackage{fontawesome5}
\usepackage{wallpaper}

\usepackage{minted}
\setminted[c++]{style=perldoc, fontsize=\footnotesize}

\NewDocumentCommand\lst{mmm}{ %
  \tcbset{enhanced, colframe=black, arc=0pt, boxsep=0pt, left=2pt, right=2pt}
  \begin{tcolorbox}[ %
    arc=1pt,
    title=#1,
    colback=white,
    leftupper=0pt,
    rightupper=0pt,
    top=2pt,
    bottom=2pt,
    boxrule=1pt,
    drop fuzzy shadow,
    lower separated=false,
    toptitle=2pt,
    bottomtitle=2pt,
    breakable,
    break at=-\baselineskip/0pt,
    fonttitle=\bfseries\sffamily,
    before title={\small\faCode\hspace*{2pt}},
    after title={\hfill\normalfont\footnotesize #2}]
    \inputminted[firstline=2]{c++}{../code/#3}
  \end{tcolorbox}
}

\NewDocumentEnvironment{code}{mmm}{ %
  \tcbset{enhanced, colframe=black, arc=0pt, boxsep=0pt, left=2pt, right=2pt}
  \begin{tcolorbox}[ %
    arc=1pt,
    title=#1,
    colback=white,
    leftupper=0pt,
    rightupper=0pt,
    top=0pt,
    bottom=2pt,
    boxrule=1pt,
    middle=1pt,
    drop fuzzy shadow,
    lower separated=false,
    toptitle=2pt,
    bottomtitle=2pt,
    breakable,
    break at=-\baselineskip/0pt,
    fonttitle=\bfseries\sffamily,
    before title={\small\faCode\hspace*{2pt}},
    after title={\hfill\normalfont\footnotesize #2}]
    \begin{tcolorbox}[ %
      enhanced,
      arc=0pt,
      boxsep=0pt,
      left=2pt,
      right=2pt,
      bottom=2pt,
      top=2pt,
      boxrule=0pt,
      borderline south={1pt}{0pt}{black}]
      \begin{small}}{ %
      \end{small}
    \end{tcolorbox}
    \tcblower
    \inputminted[firstline=2]{c++}{../code/#3}
  \end{tcolorbox}
}


% header
\usepackage{fancyhdr}
\pagestyle{fancy}

\setlength{\headheight}{1.2cm}
\setlength{\headsep}{0.5cm}

\lhead{Kiel University}
\chead{}
\rhead{\thepage}

\rfoot[]{}
\lfoot[]{}
\cfoot[]{}

\usepackage{tocloft}
\setlength{\cftbeforesecskip}{6pt}
\usepackage[toc]{multitoc}
\renewcommand*{\multicolumntoc}{2}
\setlength{\columnseprule}{0.5pt}

\usepackage[en-GB]{datetime2}
\makeatletter
\newcommand{\daymonthyear}{%
  \@dtm@day. \DTMenglishmonthname{\@dtm@month} \@dtm@year
}
\def\blfootnote{\gdef\@thefnmark{}\@footnotetext}
\makeatother
% multi column layout
\usepackage{multicol}
\setlength{\columnseprule}{0.4pt}

\AtBeginDocument{\addtocontents{toc}{\protect\thispagestyle{fancy}}} 

\begin{document}
\begin{titlepage}
  \ThisCenterWallPaper{1.0}{assets/obligatoryoptimisticoctopus.pdf}
  \vspace*{44em}
  \hfill\daymonthyear
\end{titlepage}
      
  \setcounter{tocdepth}{1}
  \tableofcontents
  \blfootnote{Code icon by Font Awesome}
  \lst{Template}{}{template.cc}
  \lst{.vimrc}{}{utils/.vimrc}
  \input{math}  
  \input{numberTheory}
  \input{dataStructures}
  \input{dynamicProgramming}
  \input{graphs}
  \input{strings}
  \input{geometry}
  \input{utils}

\end{document}

%%% Local Variables:
%%% TeX-command-extra-options: "-shell-escape"
%%% mode: latex
%%% TeX-master: t
%%% End:
